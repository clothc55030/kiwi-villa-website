/* Tailwind CSS v4 Configuration */
@import "tailwindcss";

/* 設計系統 - 莫蘭迪色系 */
@theme {
  /* 字體族設定 */
  --font-sans: "Noto Sans TC", -apple-system, "PingFang TC", "Microsoft YaHei", system-ui, sans-serif;
  --font-serif: "Lora", "Noto Serif TC", "PingFang TC", "Microsoft YaHei", serif;
  --font-display: "Noto Serif TC", "Lora", serif;
  
  /* 顏色系統 - 直接映射到 Tailwind 顏色名稱 */
  --color-primary: #7c9bb5;
  --color-primary-light: #9bb0c4;
  --color-primary-dark: #6b8aa0;
  
  --color-secondary: #a8b8c8;
  --color-secondary-light: #b8c7d6;
  --color-secondary-dark: #8fa3b3;
  
  --color-accent: #9bb0c4;
  --color-accent-light: #b8c7d6;
  
  /* 中性色 */
  --color-light-gray: #f7f6f4;
  --color-medium-gray: #e6e2dc;
  --color-dark-gray: #8a8580;
  --color-charcoal: #4a453f;
  
  /* 語意色彩 */
  --color-text-primary: #4a453f;
  --color-text-secondary: #8a8580;
  --color-text-light: #ffffff;
  --color-text-muted: #b5b0aa;
  
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f7f6f4;
  --color-bg-accent: #faf9f7;
  
  /* 品牌色彩 */
  --color-instagram-start: #f09433;
  --color-instagram-end: #bc1888;
  --color-facebook: #1877f2;
  --color-line: #00c300;
  
  /* 陰影系統 */
  --color-shadow-light: rgba(74, 69, 63, 0.08);
  --color-shadow-medium: rgba(74, 69, 63, 0.12);
  --color-shadow-heavy: rgba(74, 69, 63, 0.16);
  
  /* 間距系統 */
  --spacing-xs: 0.5rem;
  --spacing-sm: 1rem;
  --spacing-md: 1.5rem;
  --spacing-lg: 2rem;
  --spacing-xl: 3rem;
  --spacing-xxl: 4rem;
  
  /* 字體系統 - 優雅的中英文搭配 */
  --font-family-sans: "Noto Sans TC", -apple-system, "PingFang TC", "Microsoft YaHei", system-ui, sans-serif;
  --font-family-serif: "Lora", "Noto Serif TC", "PingFang TC", "Microsoft YaHei", serif;
  --font-family-display: "Noto Serif TC", "Lora", serif;
  
  /* 動畫時間 */
  --duration-fast: 200ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* 斷點 */
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
}

/* 全域樣式 - 僅保留 Tailwind Preflight 未涵蓋的特定全域樣式 */
@layer base {
  html {
    scroll-behavior: smooth;
    scroll-padding-top: 5.625rem; /* 90px */
  }

  body {
    /* Tailwind's Preflight 已經處理了大部分基礎樣式 */
    /* 只保留專案特定的字體和顏色 */
    font-family: var(--font-family-sans);
    color: var(--color-text-primary);
    background-color: var(--color-bg-primary);
    overflow-x: hidden; /* 保留以防止水平滾動 */
  }
}

/* 動畫定義 */
@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    25% { background-position: 50% 0%; }
    50% { background-position: 100% 50%; }
    75% { background-position: 50% 100%; }
    100% { background-position: 0% 50%; }
}

/* 效能優化：減少動畫 */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms;
    animation-iteration-count: 1;
    transition-duration: 0.01ms;
  }
  
  html {
    scroll-behavior: auto;
  }
}

/* 自定義工具類別 */
@layer utilities {
  /* 焦點樣式 - 無障礙性增強 */
  *:focus-visible {
    @apply ring-2 ring-primary ring-offset-2 outline-none;
  }
  
  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    @apply ring-2 ring-primary ring-offset-2 outline-none transition-all duration-200;
  }
  
  /* 暗色背景上的焦點樣式 */
  .dark-bg *:focus-visible {
    @apply ring-2 ring-white ring-offset-2 ring-offset-transparent;
  }
  
  .bg-radial-gradient {
    background: radial-gradient(circle at center, var(--tw-gradient-stops));
  }
  
  .shadow-medium {
    box-shadow: 0 4px 16px rgba(74, 69, 63, 0.12);
  }
  
  /* Motion One 動畫的初始狀態 */
  [data-animate='fade-up'] {
    opacity: 0;
    transform: translateY(30px);
  }
  
  [data-animate='hero'] {
    opacity: 0;
    transform: translateY(20px);
  }
  
  /* 文字陰影工具類別 */
  .text-shadow-sm {
    text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);
  }
  
  .text-shadow-md {
    text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8);
  }
  
  .text-shadow-lg {
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
  }
  
  .text-shadow-xl {
    text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
  }
  
  /* 字體優化工具類別 */
  .font-display {
    font-family: var(--font-display);
  }
  
  /* 字重優化 - 中文字體 */
  .font-light-cn {
    font-weight: 300;
  }
  
  .font-normal-cn {
    font-weight: 400;
  }
  
  .font-medium-cn {
    font-weight: 500;
  }
  
  .font-semibold-cn {
    font-weight: 600;
  }
  
  .font-bold-cn {
    font-weight: 700;
  }
  
  /* 字距優化 */
  .tracking-loose-cn {
    letter-spacing: 0.05em;
  }
  
  .tracking-wide-cn {
    letter-spacing: 0.1em;
  }
  
  /* 漸變動畫 */
  .animate-gradient-shift {
    background-size: 400% 400%;
    animation: gradientShift 8s ease-in-out infinite;
  }
  
  /* 動畫延遲工具類別 */
  .animate-delay-200 {
    animation-delay: 0.2s;
  }
  
  .animate-delay-400 {
    animation-delay: 0.4s;
  }

  /* Float 動畫效果 */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-float-delay-500 {
    animation: float 3s ease-in-out infinite;
    animation-delay: 0.5s;
  }

  .animate-float-delay-1000 {
    animation: float 3s ease-in-out infinite;
    animation-delay: 1s;
  }

  /* 3D 卡片效果 */
  .card-3d {
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-3d:hover {
    transform: rotateY(10deg) rotateX(-10deg) translateZ(20px);
  }

  /* 卡片陰影效果 */
  .card-shadow-hover {
    transition: box-shadow 0.3s ease-in-out, transform 0.3s ease-in-out;
  }

  .card-shadow-hover:hover {
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15), 0 0 20px rgba(0, 0, 0, 0.05);
  }

  /* 行動裝置觸控優化 */
  .touch-manipulation {
    touch-action: manipulation;
  }

  @media (max-width: 768px) {
    /* 行動版滑動優化 */
    .mobile-scroll-snap {
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }

    .mobile-scroll-snap::-webkit-scrollbar {
      display: none;
    }

    .mobile-scroll-snap > * {
      scroll-snap-align: center;
    }

    /* 行動版按鈕最小高度 */
    .min-touch-target {
      min-height: 44px;
      min-width: 44px;
    }
  }
  
  /* 動畫性能優化 - will-change */
  .will-change-transform {
    will-change: transform;
  }
  
  .will-change-opacity {
    will-change: opacity;
  }
  
  .will-change-auto {
    will-change: auto;
  }
  
  /* 背景漸層優化 */
  .bg-gradient-morandi {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-accent) 25%, var(--color-secondary-light) 50%, var(--color-secondary) 75%, var(--color-secondary-dark) 100%);
    background-size: 400% 400%;
  }
  
  /* 懶加載狀態 */
  .lazy-img {
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }
  
  .lazy-img.loaded {
    opacity: 1;
  }
  
  /* 圖片占位符效果 */
  .img-placeholder {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s ease-in-out infinite;
  }
  
  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  /* Float 動畫 */
  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  /* Iconify 圖標全域樣式 */
  iconify-icon {
    display: inline-flex;
    vertical-align: middle;
    width: 1em;
    height: 1em;
    font-size: inherit;
  }
  
  /* 確保 Tailwind 的寬高類別能正確覆蓋預設大小 */
  iconify-icon[class*="w-"] {
    width: auto;
  }
  
  iconify-icon[class*="h-"] {
    height: auto;
  }
  
  /* Tailwind 寬高類別對應的字體大小 */
  iconify-icon.w-4 { font-size: 1rem; }
  iconify-icon.w-5 { font-size: 1.25rem; }
  iconify-icon.w-6 { font-size: 1.5rem; }
  iconify-icon.w-8 { font-size: 2rem; }
  iconify-icon.w-10 { font-size: 2.5rem; }
  iconify-icon.w-12 { font-size: 3rem; }
  iconify-icon.w-16 { font-size: 4rem; }
  iconify-icon.w-20 { font-size: 5rem; }
  iconify-icon.w-24 { font-size: 6rem; }
  
  /* 文字大小類別 */
  iconify-icon.text-xs { font-size: 0.75rem; }
  iconify-icon.text-sm { font-size: 0.875rem; }
  iconify-icon.text-base { font-size: 1rem; }
  iconify-icon.text-lg { font-size: 1.125rem; }
  iconify-icon.text-xl { font-size: 1.25rem; }
  iconify-icon.text-2xl { font-size: 1.5rem; }
  iconify-icon.text-3xl { font-size: 1.875rem; }
  iconify-icon.text-4xl { font-size: 2.25rem; }
  iconify-icon.text-5xl { font-size: 3rem; }
}

/* 高對比度支援 */
@media (prefers-contrast: high) {
  :root {
    --color-primary: #5a7a94;
    --color-text-primary: #2a251f;
    --color-text-secondary: #5a5550;
  }
} 