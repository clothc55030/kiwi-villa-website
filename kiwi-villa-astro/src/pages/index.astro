---
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';
// Note: We are using standard <img> and <picture> tags for hero image 
// as they are in the /public folder and we need to preserve the complex art direction.
// Astro's <Image> component is better suited for images in src/assets.

// 結構化數據 Schema.org
const structuredData = {
	"@context": "https://schema.org",
	"@type": "LodgingBusiness",
	"name": "澎湖期遇度假會館",
	"alternateName": "期遇度假會館",
	"description": "澎湖期遇度假會館，座落於三面環海半島，融合歐洲巴洛克古典建築美學，提供獨特的海島度假體驗。",
	"url": "https://www.kiwi-villa.com/",
	"telephone": "+886-933-636373",
	"contactPoint": {
		"@type": "ContactPoint",
		"telephone": "+886-933-636373",
		"contactType": "customer service",
		"availableLanguage": ["zh-TW", "zh-CN"]
	},
	"address": {
		"@type": "PostalAddress",
		"streetAddress": "NO.347, Xiwei Village, Magong City, Penghu County, Taiwan",
		"addressLocality": "Magong City",
		"addressRegion": "Penghu County",
		"postalCode": "880",
		"addressCountry": "TW"
	},
	"geo": {
		"@type": "GeoCoordinates",
		"latitude": "23.5693",
		"longitude": "119.5794"
	},
	"priceRange": "$2,501 - $8,000",
	"aggregateRating": {
		"@type": "AggregateRating",
		"ratingValue": "5.0",
		"reviewCount": "200",
		"bestRating": "5",
		"worstRating": "1"
	},
	"starRating": {
		"@type": "Rating",
		"ratingValue": "4"
	},
	"checkinTime": "15:00",
	"checkoutTime": "11:00",
	"numberOfRooms": "6",
	"accommodationCategory": "Bed and Breakfast",
	"amenityFeature": [
		{
			"@type": "LocationFeatureSpecification",
			"name": "免費WiFi",
			"value": true
		},
		{
			"@type": "LocationFeatureSpecification",
			"name": "免費停車",
			"value": true
		},
		{
			"@type": "LocationFeatureSpecification",
			"name": "含早餐",
			"value": true
		},
		{
			"@type": "LocationFeatureSpecification",
			"name": "空調",
			"value": true
		},
		{
			"@type": "LocationFeatureSpecification",
			"name": "行李寄存",
			"value": true
		}
	],
	"sameAs": [
		"https://www.facebook.com/kiwivilla.home/",
		"https://www.instagram.com/kiwi_villa/",
		"https://page.line.me/ucz4004x"
	]
};
---

<Layout 
  title="澎湖期遇度假會館 - 澎湖民宿推薦 | 三面環海歐風建築度假首選"
  description="澎湖期遇度假會館，座落於三面環海半島，融合歐洲巴洛克古典建築美學。在陽光海洋微風星光中，開啟您的期遇之旅，體驗潮流與經典融合的海島度假時光。"
  structuredData={structuredData}
>
	<!-- Hero Section -->
	<section class="relative h-screen min-h-[600px] flex items-center justify-center overflow-hidden pt-[70px] md:pt-20">
		<picture class="absolute inset-0 z-0">
			<!-- Mobile images -->
			<source srcset="/images/hero/main-hall-environment-mobile-extreme.avif" media="(max-width: 768px)" type="image/avif">
			<source srcset="/images/hero/main-hall-environment-mobile-ultra.webp" media="(max-width: 768px)" type="image/webp">
			
			<!-- Desktop images -->
			<source srcset="/images/hero/main-hall-environment-new.avif" type="image/avif">
			<source srcset="/images/hero/main-hall-environment-ultra.webp" type="image/webp">
			
			<img 
				src="/images/hero/main-hall-environment-optimized.jpg" 
				alt="澎湖期遇度假會館主廳環境" 
				class="w-full h-full object-cover object-center"
				width="1920"
				height="1080"
				loading="eager"
				fetchpriority="high"
				decoding="async"
			>
		</picture>
		<!-- Blue-gray tinted overlay matching original Morandi design -->
		<div class="absolute inset-0 bg-charcoal/60 z-10"></div>
		
		<div class="relative z-20 text-center text-white max-w-[900px] mx-auto px-6 py-12 bg-charcoal/40 rounded-[20px] border border-white/15 mt-[30px] shadow-[0_8px_32px_rgba(74,69,63,0.4)]" data-animate="hero">
			<!-- Small subtitle with precise styling -->
			<div class="text-[clamp(0.875rem,2vw,1rem)] text-white/90 font-light mb-4 tracking-[2px] uppercase" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);" data-animate="hero">澎湖民宿推薦</div>
			
			<!-- Main title with exact original sizing -->
			<h1 class="font-serif text-[clamp(2.5rem,6vw,4rem)] font-semibold mb-4 text-white" style="text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);" data-animate="hero">期遇度假會館</h1>
			
			<!-- Subtitle with italic styling -->
			<h2 class="font-serif text-[clamp(1.25rem,3vw,1.75rem)] font-normal mb-8 text-white italic tracking-wide" style="text-shadow: 1px 1px 6px rgba(0, 0, 0, 0.8);" data-animate="hero">期待相遇</h2>
			
			<!-- Poem section -->
			<div class="mb-8" data-animate="hero">
				<p class="text-[clamp(1rem,2.5vw,1.25rem)] text-white/95 leading-[1.8] font-light mb-2 italic" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);">旅行，是與驚喜不期而遇</p>
				<p class="text-[clamp(1rem,2.5vw,1.25rem)] text-white/95 leading-[1.8] font-light mb-2 italic" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);">也是，在途中遇見另一個自己</p>
			</div>
			
			<!-- Call to action section -->
			<div class="mb-12" data-animate="hero">
				<p class="text-[clamp(1.125rem,2.5vw,1.5rem)] text-white leading-[1.7] mb-2" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);">這一次，來一段屬於你的</p>
				<p class="text-[clamp(1.125rem,2.5vw,1.5rem)] text-white leading-[1.7] mb-2" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);"><strong class="font-semibold" style="text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);">期遇之旅——</strong></p>
				<p class="text-[clamp(0.95rem,2vw,1.125rem)] text-white/90 italic mt-4" style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);">沉浸在陽光、海洋、微風與星光交織的海島生活裡。</p>
			</div>
			
			<!-- Buttons with original styling -->
			<div class="flex flex-col md:flex-row gap-6 justify-center items-center mb-16" data-animate="hero">
				<a href="#booking" class="flex items-center justify-center gap-2 px-8 py-4 text-lg font-medium rounded-[10px] bg-white/10 border border-white/30 text-white hover:bg-white/20 transition-all duration-300 shadow-medium">
					<Icon name="heroicons:sparkles" class="w-5 h-5" />
					開始期遇之旅
				</a>
				<a href="https://booking.owlting.com/kiwi-villa" target="_blank" rel="noopener noreferrer" class="flex items-center justify-center gap-2 px-8 py-4 text-lg font-medium rounded-[10px] bg-white/10 border border-white/30 text-white hover:bg-white/20 transition-all duration-300 shadow-medium">
					<Icon name="heroicons:calendar-days" class="w-5 h-5" />
					線上訂房
				</a>
			</div>
		</div>
		
		<!-- Scroll indicator with original bounce animation -->
		<button 
			class="absolute bottom-5 left-1/2 -translate-x-1/2 z-20 text-white animate-bounce cursor-pointer p-2 rounded-full hover:bg-white/10 transition-colors duration-300" 
			style="text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.8);" 
			data-animate="hero"
			aria-label="向下滾動"
			id="scroll-indicator"
		>
			<Icon name="heroicons:chevron-down" class="w-6 h-6" />
		</button>
	</section>

	<!-- Quick Intro Section -->
	<section id="quick-intro" class="py-16 md:py-24 bg-bg-secondary">
		<div class="container max-w-screen-xl mx-auto px-4">
			<div class="text-center mb-12 md:mb-16" data-animate="fade-up">
				<h2 class="text-3xl md:text-4xl font-serif text-charcoal">我們不只是一間民宿</h2>
				<p class="text-lg md:text-xl text-text-secondary mt-2">期遇度假會館，更是你在澎湖的家</p>
			</div>
			
			<div class="grid md:grid-cols-3 gap-8">
				<div class="bg-white p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center" data-animate="fade-up">
					<div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center">
						<Icon name="heroicons:sun" class="w-10 h-10 text-white" />
					</div>
					<h3 class="text-xl font-serif text-text-primary mb-3">三面環海半島</h3>
					<p class="text-text-secondary mb-6">獨特的地理位置，步行即可擁抱蔚藍大海，感受海島的無盡魅力</p>
					<a href="/location" class="font-medium text-primary hover:text-primary-dark inline-flex items-center gap-2 group">
						探索位置 <Icon name="heroicons:arrow-right-20-solid" class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1" />
					</a>
				</div>
				
				<div class="bg-white p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center" data-animate="fade-up" data-animate-delay="200">
					<div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center">
						<Icon name="heroicons:building-library" class="w-10 h-10 text-white" />
					</div>
					<h3 class="text-xl font-serif text-text-primary mb-3">歐洲巴洛克建築</h3>
					<p class="text-text-secondary mb-6">細膩立體美學，潮流與經典融合，復古與現代相互碰撞的建築藝術</p>
					<a href="/intro" class="font-medium text-primary hover:text-primary-dark inline-flex items-center gap-2 group">
						建築之美 <Icon name="heroicons:arrow-right-20-solid" class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1" />
					</a>
				</div>
				
				<div class="bg-white p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center" data-animate="fade-up" data-animate-delay="400">
					<div class="w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary to-accent rounded-full flex items-center justify-center">
						<Icon name="heroicons:sparkles" class="w-10 h-10 text-white" />
					</div>
					<h3 class="text-xl font-serif text-text-primary mb-3">期遇體驗</h3>
					<p class="text-text-secondary mb-6">當夜幕低垂、繁星點點，那是一場與美好不期而遇的開始</p>
					<a href="/rooms" class="font-medium text-primary hover:text-primary-dark inline-flex items-center gap-2 group">
						房型體驗 <Icon name="heroicons:arrow-right-20-solid" class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1" />
					</a>
				</div>
			</div>
		</div>
	</section>

	<!-- Social Media Section -->
	<section class="py-16 md:py-24 bg-bg-accent">
		<div class="container max-w-screen-xl mx-auto px-4">
			<div class="text-center mb-12 md:mb-16" data-animate="fade-up">
				<h2 class="text-3xl md:text-4xl font-serif text-charcoal">追蹤我們的期遇時光</h2>
				<p class="text-lg md:text-xl text-text-secondary mt-2">在社群媒體上分享您的 #期遇澎湖 美好回憶</p>
			</div>
			<div class="grid md:grid-cols-3 gap-8">
				<a href="https://www.instagram.com/kiwi_villa/" target="_blank" rel="noopener noreferrer" class="block p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center bg-white" data-animate="fade-up">
					<Icon name="simple-icons:instagram" class="w-20 h-20 text-white rounded-full p-4 mx-auto mb-6 bg-gradient-to-br from-instagram-start to-instagram-end" />
					<h3 class="text-xl font-serif text-text-primary mb-2">Instagram</h3>
					<p class="text-text-secondary mb-4">@kiwi_villa</p>
					<span class="inline-block px-4 py-1.5 rounded-full bg-gradient-to-r from-primary to-accent text-white text-sm font-medium">#期遇澎湖</span>
				</a>
				<a href="https://www.facebook.com/kiwivilla.home/" target="_blank" rel="noopener noreferrer" class="block p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center bg-white" data-animate="fade-up" data-animate-delay="200">
					<Icon name="simple-icons:facebook" class="w-20 h-20 text-white rounded-full p-4 mx-auto mb-6 bg-facebook" />
					<h3 class="text-xl font-serif text-text-primary mb-2">Facebook</h3>
					<p class="text-text-secondary mb-4">期遇度假會館</p>
					<span class="inline-block px-4 py-1.5 rounded-full bg-gradient-to-r from-primary to-accent text-white text-sm font-medium">最新消息</span>
				</a>
				<a href="https://page.line.me/ucz4004x" target="_blank" rel="noopener noreferrer" class="block p-8 rounded-2xl shadow-light hover:shadow-medium hover:-translate-y-2 transition-all duration-300 text-center bg-white" data-animate="fade-up" data-animate-delay="400">
					<Icon name="simple-icons:line" class="w-20 h-20 text-white rounded-full p-4 mx-auto mb-6 bg-line" />
					<h3 class="text-xl font-serif text-text-primary mb-2">LINE</h3>
					<p class="text-text-secondary mb-4">@ucz4004x</p>
					<span class="inline-block px-4 py-1.5 rounded-full bg-gradient-to-r from-primary to-accent text-white text-sm font-medium">即時服務</span>
				</a>
			</div>
		</div>
	</section>
	
	<!-- CTA Section -->
	<section id="booking" class="relative py-20 md:py-32 overflow-hidden">
		<div class="absolute inset-0 z-0 bg-gradient-to-r from-secondary via-primary to-accent animate-[gradientShift_6s_ease-in-out_infinite] bg-[size:200%_200%]"></div>
		<div class="absolute inset-0 bg-charcoal/70 z-10"></div>
		<div class="relative z-20 container max-w-screen-md mx-auto px-4 text-center text-white" data-animate="fade-up">
			<h2 class="text-3xl md:text-4xl font-serif mb-4">當夜幕低垂、繁星點點</h2>
			<p class="text-lg md:text-xl text-white/90 font-light mb-8">靜靜地走進期遇——那是一場與美好不期而遇的開始</p>
			<div class="flex flex-col md:flex-row gap-4 justify-center items-center">
				<a href="https://booking.owlting.com/kiwi-villa" target="_blank" rel="noopener noreferrer" class="w-full md:w-auto flex items-center justify-center gap-2 px-8 py-4 bg-white text-charcoal border-2 border-white rounded-lg text-lg font-semibold hover:bg-white/90 hover:shadow-lg transition-all duration-300">
					<Icon name="heroicons:calendar-days" class="w-6 h-6" />
					線上訂房
				</a>
				<a href="tel:+886933636373" class="w-full md:w-auto flex items-center justify-center gap-2 px-8 py-4 bg-charcoal/80 text-white border-2 border-white/60 rounded-lg text-lg font-semibold hover:bg-charcoal/90 hover:border-white transition-all duration-300">
					<Icon name="heroicons:phone" class="w-6 h-6" />
					電話預約
				</a>
			</div>
		</div>
	</section>
</Layout>

<script>
	import { animate, inView, stagger } from "motion";

	// 確保 DOM 載入完成
	document.addEventListener('DOMContentLoaded', () => {
		// Hero 區域載入動畫
		animate(
			"[data-animate='hero']",
			{ opacity: [0, 1], y: [20, 0] },
			{ 
				duration: 0.8, 
				delay: stagger(0.05, { start: 0.3 }),
				easing: "ease-out"
			}
		);

		// 滾動觸發的淡入動畫
		const animatedElements = new Set();
		
		document.querySelectorAll("[data-animate='fade-up']").forEach((element) => {
			inView(
				element,
				() => {
					// 避免重複動畫
					if (animatedElements.has(element)) return;
					animatedElements.add(element);
					
					// 檢查是否有自定義延遲
					const delay = element.getAttribute('data-animate-delay');
					const animationDelay = delay ? parseInt(delay) / 1000 : 0; // 將毫秒轉換為秒
					
					animate(
						element,
						{ opacity: [0, 1], y: [30, 0] },
						{ 
							duration: 0.8, 
							easing: "ease-out",
							delay: animationDelay 
						}
					);
				},
				{
					margin: "-10% 0px -10% 0px", // 元素進入視窗 10% 後觸發
					amount: 0.1 // 只需要 10% 的元素可見就觸發動畫
				}
			);
		});
		
		// 滾動指示器點擊功能
		const scrollIndicator = document.getElementById('scroll-indicator');
		if (scrollIndicator) {
			scrollIndicator.addEventListener('click', () => {
				// 滾動到快速介紹區塊
				const quickIntroSection = document.getElementById('quick-intro');
				if (quickIntroSection) {
					quickIntroSection.scrollIntoView({ 
						behavior: 'smooth',
						block: 'start'
					});
				}
			});
		}
	});
</script>
